import{a as te}from"./chunk-GSS45ZHY.js";import"./chunk-NOTKCVSM.js";import"./chunk-DLDAO7VZ.js";import{Ba as f,C as a,Ca as y,Da as x,E as l,Ea as T,Fa as V,G as b,Ga as q,Ja as G,Ka as R,L as g,La as j,M as w,Ma as P,P as m,Q as o,R as n,S as s,W as _,X as c,Y as F,bb as z,d as C,db as H,ea as d,eb as O,fa as S,fb as J,ga as E,gb as K,h as v,hb as L,i as N,ib as Q,jb as U,kb as W,m as I,pb as X,ra as M,sb as Y,ta as k,tb as Z,v as A,va as D,w as B,wb as $,xb as ee}from"./chunk-KOMPBYRF.js";import"./chunk-EK2F6UB4.js";import"./chunk-HQGYLS3P.js";import"./chunk-3LOU2PH5.js";import"./chunk-VDIWTM42.js";import"./chunk-UQSJFG5S.js";import"./chunk-O6FA337S.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-PIQNUW7X.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{f as h}from"./chunk-D7YYRZS5.js";function oe(u,r){if(u&1){let ie=_();o(0,"ion-col",13)(1,"ion-button",14),c("click",function(){A(ie);let e=F();return B(e.cancelAndNewNote())}),d(2," \uCDE8\uC18C \uBC0F \uC0C8 \uB178\uD2B8 \uC791\uC131 "),n()()}}var de=(()=>{let r=class r{constructor(t,e,i,p){this.fb=t,this.route=e,this.router=i,this.memoService=p,this.noteId=null,this.isNewNote=!1}ngOnInit(){this.initForm(),this.loadNoteData()}initForm(){this.memoForm=this.fb.group({title:["",f.required],content:["",f.required]})}loadNoteData(){this.route.paramMap.pipe(I(t=>{let e=t.get("id");return this.noteId=e,e==="new"?(this.isNewNote=!0,C({title:"",content:""})):e?(this.isNewNote=!1,this.memoService.getNote(e).pipe(v(i=>!!i),N(1))):C(null)})).subscribe(t=>{t&&this.memoForm.patchValue({title:t.title,content:t.content})})}saveMemo(){return h(this,null,function*(){if(this.memoForm.invalid){alert("\uC81C\uBAA9\uACFC \uB0B4\uC6A9\uC744 \uBAA8\uB450 \uC785\uB825\uD574\uC8FC\uC138\uC694.");return}let t=this.memoForm.value;if(this.isNewNote){let e=yield this.memoService.addNote(t);alert("\uC0C8 \uBA54\uBAA8\uAC00 \uC800\uC7A5\uB418\uC5C8\uC2B5\uB2C8\uB2E4."),this.router.navigate(["/memo-edit",e])}else this.noteId&&(yield this.memoService.updateNote(this.noteId,t),alert("\uBA54\uBAA8\uAC00 \uC218\uC815\uB418\uC5C8\uC2B5\uB2C8\uB2E4."))})}cancelAndNewNote(){this.router.navigate(["/memo-edit","new"]),this.memoForm.reset(),this.isNewNote=!0,this.noteId=null}};r.\u0275fac=function(e){return new(e||r)(l(R),l(k),l(D),l(te))},r.\u0275cmp=b({type:r,selectors:[["app-memo-editor"]],decls:20,vars:7,consts:[[3,"translucent"],["slot","start"],["defaultHref","/note-view"],[3,"fullscreen"],[3,"ngSubmit","formGroup"],[1,"ion-margin-bottom"],["label","\uC81C\uBAA9","label-placement","stacked","formControlName","title","placeholder","\uBA54\uBAA8\uC758 \uC81C\uBAA9\uC744 \uC785\uB825\uD558\uC138\uC694","required",""],[1,"editor-area"],["label","\uB0B4\uC6A9","label-placement","stacked","formControlName","content","rows","20","placeholder","\uC5EC\uAE30\uC5D0 \uBA54\uBAA8 \uB0B4\uC6A9\uC744 \uC785\uB825\uD558\uC138\uC694","required",""],[1,"ion-padding"],[1,"ion-align-items-center"],["size","5"],["expand","block","color","primary",3,"click","disabled"],["size","7"],["expand","block","fill","outline","color","medium",3,"click"]],template:function(e,i){e&1&&(o(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),s(3,"ion-back-button",2),n(),o(4,"ion-title"),d(5),n()()(),o(6,"ion-content",3)(7,"form",4),c("ngSubmit",function(){return i.saveMemo()}),o(8,"ion-item",5),s(9,"ion-input",6),n(),o(10,"ion-item",7),s(11,"ion-textarea",8),n()()(),o(12,"ion-footer",9)(13,"ion-toolbar")(14,"ion-grid")(15,"ion-row",10)(16,"ion-col",11)(17,"ion-button",12),c("click",function(){return i.saveMemo()}),d(18),n()(),g(19,oe,3,0,"ion-col",13),n()()()()),e&2&&(m("translucent",!0),a(5),S(i.isNewNote?"\uC0C8 \uBA54\uBAA8 \uC791\uC131":"\uBA54\uBAA8 \uD3B8\uC9D1"),a(),m("fullscreen",!0),a(),m("formGroup",i.memoForm),a(10),m("disabled",i.memoForm.invalid),a(),E(" ",i.isNewNote?"\uC0C8 \uBA54\uBAA8 \uC800\uC7A5":"\uC218\uC815 \uC800\uC7A5"," "),a(),w(i.noteId?19:-1))},dependencies:[z,O,$,ee,X,J,H,L,Q,W,K,Z,M,j,T,y,x,G,P,V,q,Y,U],encapsulation:2});let u=r;return u})();export{de as MemoEditorPage};
