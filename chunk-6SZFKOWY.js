import{$ as L,A as v,Aa as G,B as D,Ca as R,E as m,Ea as U,F as i,Fa as V,G as o,H as f,I as h,J as B,Ka as $,L as I,M as F,O as u,U as S,X as y,da as C,ea as b,fa as x,ga as A,ha as w,ia as P,ka as N,la as T,ma as k,ob as O,ra as M,ua as j,ub as W,v as a,x as p,y as E,ya as q,z as c}from"./chunk-7MSO7WOP.js";import"./chunk-W7HPUEKP.js";import"./chunk-254F5RPF.js";import"./chunk-PZU7R7Y5.js";import"./chunk-YN4SZ4GL.js";import"./chunk-UQSJFG5S.js";import"./chunk-O6FA337S.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-REYR55MP.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{f as _}from"./chunk-D7YYRZS5.js";function H(e,t){e&1&&(i(0,"ion-note",14),u(1," \uC774\uBA54\uC77C\uC744 \uC785\uB825\uD574 \uC8FC\uC138\uC694. "),o())}function J(e,t){e&1&&(i(0,"ion-note",14),u(1," \uC720\uD6A8\uD55C \uC774\uBA54\uC77C \uD615\uC2DD\uC774 \uC544\uB2D9\uB2C8\uB2E4. "),o())}function K(e,t){e&1&&(i(0,"ion-note",14),u(1," \uBE44\uBC00\uBC88\uD638\uB294 \uCD5C\uC18C 6\uC790 \uC774\uC0C1\uC774\uC5B4\uC57C \uD569\uB2C8\uB2E4. "),o())}function Q(e,t){e&1&&(h(0),f(1,"ion-spinner",15),B())}function X(e,t){e&1&&(h(0),u(1," \uB85C\uADF8\uC778 "),B())}function Y(e,t){if(e&1&&c(0,X,2,0,"ng-container",16),e&2){let z=F();m("ngIf",!z.isLoading)}}var ae=(()=>{let t=class t{constructor(r,l,n){this.fb=r,this.auth=l,this.router$=n,this.isLoading=!1,this.loginForm=this.fb.group({email:["",[C.required,C.email]],password:["",[C.required,C.minLength(6)]]})}ngOnInit(){}login(){return _(this,null,function*(){if(this.loginForm.invalid){console.log("invalid");return}try{this.isLoading=!0,console.log("dksdjksdsdfjk");let{email:r,password:l}=this.loginForm.value,n=yield W(this.auth,r,l);console.log("\uB85C\uADF8\uC778 \uC131\uACF5:",n.user),this.router$.navigateByUrl("/note-view",{replaceUrl:!0})}catch(r){console.error("\uB85C\uADF8\uC778 \uC624\uB958:",r.message)}finally{this.isLoading=!1}})}getErrorMessage(r){switch(r){case"auth/user-not-found":return"\uC874\uC7AC\uD558\uC9C0 \uC54A\uB294 \uC0AC\uC6A9\uC790\uC785\uB2C8\uB2E4.";case"auth/wrong-password":return"\uC798\uBABB\uB41C \uBE44\uBC00\uBC88\uD638\uC785\uB2C8\uB2E4.";case"auth/invalid-email":return"\uC798\uBABB\uB41C \uC774\uBA54\uC77C \uD615\uC2DD\uC785\uB2C8\uB2E4.";case"auth/too-many-requests":return"\uB85C\uADF8\uC778 \uC2DC\uB3C4 \uD69F\uC218\uAC00 \uB108\uBB34 \uB9CE\uC2B5\uB2C8\uB2E4. \uC7A0\uC2DC \uD6C4 \uB2E4\uC2DC \uC2DC\uB3C4\uD574 \uC8FC\uC138\uC694.";default:return"\uB85C\uADF8\uC778\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4. \uB2E4\uC2DC \uC2DC\uB3C4\uD574 \uC8FC\uC138\uC694."}}};t.\u0275fac=function(l){return new(l||t)(p(N),p(O),p(L))},t.\u0275cmp=E({type:t,selectors:[["app-login"]],decls:24,vars:6,consts:[[1,"ion-padding"],[1,"login-container"],[1,"ion-text-center"],[1,"ion-text-center","ion-margin-bottom"],[3,"ngSubmit","formGroup"],["lines","none"],["type","email","label","\uC774\uBA54\uC77C","labelPlacement","floating","formControlName","email","placeholder","example@email.com"],["color","danger",4,"ngIf"],[1,"ion-margin-top"],["type","password","label","\uBE44\uBC00\uBC88\uD638","labelPlacement","floating","formControlName","password","placeholder","6\uC790 \uC774\uC0C1"],["expand","block","type","submit",1,"ion-margin-top",3,"disabled"],[1,"ion-text-center","ion-margin-top"],["color","medium","routerLink","/reset-password"],["fill","clear","routerLink","/register"],["color","danger"],["name","crescent"],[4,"ngIf"]],template:function(l,n){if(l&1&&(i(0,"ion-content",0)(1,"div",1)(2,"h1",2),u(3,"\uC571 \uC774\uB984 \uB85C\uACE0"),o(),i(4,"p",3),u(5,"\uC774\uBA54\uC77C\uACFC \uBE44\uBC00\uBC88\uD638\uB85C \uB85C\uADF8\uC778\uD558\uC138\uC694."),o(),i(6,"form",4),I("ngSubmit",function(){return n.login()}),i(7,"ion-list",5)(8,"ion-item"),f(9,"ion-input",6),o(),c(10,H,2,0,"ion-note",7)(11,J,2,0,"ion-note",7),i(12,"ion-item",8),f(13,"ion-input",9),o(),c(14,K,2,0,"ion-note",7),o(),i(15,"ion-button",10),v(16,Q,2,0,"ng-container")(17,Y,1,1,"ng-container"),o(),i(18,"div",11)(19,"ion-text",12)(20,"p"),u(21,"\uBE44\uBC00\uBC88\uD638\uB97C \uC78A\uC73C\uC168\uB098\uC694?"),o()(),i(22,"ion-button",13),u(23," \uACC4\uC815 \uC0DD\uC131\uD558\uAE30 (\uD68C\uC6D0\uAC00\uC785) "),o()()()()()),l&2){let s,d,g;a(6),m("formGroup",n.loginForm),a(4),m("ngIf",((s=n.loginForm.get("email"))==null?null:s.hasError("required"))&&((s=n.loginForm.get("email"))==null?null:s.touched)),a(),m("ngIf",((d=n.loginForm.get("email"))==null?null:d.hasError("email"))&&((d=n.loginForm.get("email"))==null?null:d.touched)),a(3),m("ngIf",((g=n.loginForm.get("password"))==null?null:g.hasError("minlength"))&&((g=n.loginForm.get("password"))==null?null:g.touched)),a(),m("disabled",n.loginForm.invalid||n.isLoading),a(),D(n.isLoading?16:17)}},dependencies:[$,V,G,M,q,R,j,y,S,T,A,b,x,k,w,P,U],encapsulation:2});let e=t;return e})();export{ae as LoginPage};
