import{a as G,b as X}from"./chunk-IKD26HAE.js";import{a as Q}from"./chunk-ILDSOZK7.js";import"./chunk-376IKJ6V.js";import"./chunk-QUJFQN2Y.js";import"./chunk-ZY6MMR2N.js";import"./chunk-D7TAPKFE.js";import"./chunk-E3YIA7WN.js";import"./chunk-AIS5GWYL.js";import"./chunk-LALQ4PRD.js";import"./chunk-UW3ZE4H6.js";import"./chunk-BYMGTA2M.js";import"./chunk-EXPIUGSN.js";import"./chunk-RRKDUDD7.js";import"./chunk-XWDJZ25K.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import"./chunk-M6NONDRE.js";import"./chunk-CKP3SGE2.js";import"./chunk-SGZNH6GL.js";import"./chunk-55OF45Y2.js";import{$ as g,$a as U,$b as W,B as f,Ga as D,I as B,J as L,K as H,L as l,M as e,N as V,R as C,S as d,T as p,_ as A,_a as F,aa as u,bb as N,da as M,ea as y,eb as P,fa as S,fb as T,gb as _,hb as I,ka as j,la as O,ma as b,mb as R,nb as E,pb as $,q as x,qa as q,r as m,x as h,z as r}from"./chunk-F7K3763N.js";import"./chunk-W7HPUEKP.js";import"./chunk-254F5RPF.js";import"./chunk-PZU7R7Y5.js";import"./chunk-YN4SZ4GL.js";import"./chunk-UQSJFG5S.js";import"./chunk-O6FA337S.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-REYR55MP.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{f as v}from"./chunk-D7YYRZS5.js";var Y="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M256 176v160M336 256H176' class='ionicon-fill-none ionicon-stroke-width'/></svg>";var Z="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M384 224v184a40 40 0 01-40 40H104a40 40 0 01-40-40V168a40 40 0 0140-40h167.48' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path d='M459.94 53.25a16.06 16.06 0 00-23.22-.56L424.35 65a8 8 0 000 11.31l11.34 11.32a8 8 0 0011.34 0l12.06-12c6.1-6.09 6.67-16.01.85-22.38zM399.34 90L218.82 270.2a9 9 0 00-2.31 3.93L208.16 299a3.91 3.91 0 004.86 4.86l24.85-8.35a9 9 0 003.93-2.31L422 112.66a9 9 0 000-12.66l-9.95-10a9 9 0 00-12.71 0z'/></svg>";var J="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M192 176v-40a40 40 0 0140-40h160a40 40 0 0140 40v240a40 40 0 01-40 40H240c-22.09 0-48-17.91-48-40v-40' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M288 336l80-80-80-80M80 256h272' class='ionicon-fill-none ionicon-stroke-width'/></svg>";var K="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M304 336v40a40 40 0 01-40 40H104a40 40 0 01-40-40V136a40 40 0 0140-40h152c22.09 0 48 17.91 48 40v40M368 336l80-80-80-80M176 256h256' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>";var o1="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M296 64h-80a7.91 7.91 0 00-8 8v24h96V72a7.91 7.91 0 00-8-8z' class='ionicon-fill-none'/><path d='M432 96h-96V72a40 40 0 00-40-40h-80a40 40 0 00-40 40v24H80a16 16 0 000 32h17l19 304.92c1.42 26.85 22 47.08 48 47.08h184c26.13 0 46.3-19.78 48-47l19-305h17a16 16 0 000-32zM192.57 416H192a16 16 0 01-16-15.43l-8-224a16 16 0 1132-1.14l8 224A16 16 0 01192.57 416zM272 400a16 16 0 01-32 0V176a16 16 0 0132 0zm32-304h-96V72a7.91 7.91 0 018-8h80a7.91 7.91 0 018 8zm32 304.57A16 16 0 01320 416h-.58A16 16 0 01304 399.43l8-224a16 16 0 1132 1.14z'/></svg>";var a1="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M112 112l20 320c.95 18.49 14.4 32 32 32h184c17.67 0 30.87-13.51 32-32l20-320' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-miterlimit='10' d='M80 112h352' class='ionicon-stroke-width'/><path d='M192 112V72h0a23.93 23.93 0 0124-24h80a23.93 23.93 0 0124 24h0v40M256 176v224M184 176l8 224M328 176l-8 224' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>";var z,t1=function(){if(typeof window>"u")return new Map;if(!z){var a=window;a.Ionicons=a.Ionicons||{},z=a.Ionicons.map=a.Ionicons.map||new Map}return z},k=function(a){Object.keys(a).forEach(function(s){s1(s,a[s]);var i=s.replace(/([a-z0-9]|(?=[A-Z]))([A-Z0-9])/g,"$1-$2").toLowerCase();s!==i&&s1(i,a[s])})},s1=function(a,s){var i=t1(),o=i.get(a);o===void 0?i.set(a,s):o!==s&&console.warn('[Ionicons Warning]: Multiple icons were mapped to name "'.concat(a,'". Ensure that multiple icons are not mapped to the same icon name.'))};var i1=(a,s)=>s.id;function n1(a,s){if(a&1){let i=C();l(0,"ion-item",2),d("click",function(){let t=x(i).$implicit,n=p();return m(n.selectNote(t.id))}),l(1,"ion-label")(2,"h2"),g(3),e(),l(4,"p"),g(5),M(6,"date"),e()(),l(7,"ion-icon",6),d("click",function(t){let n=x(i).$implicit,c=p();return m(c.deleteNote(n.id,t))}),e()()}if(a&2){let i=s.$implicit,o=p();A("selected",i.id===o.activeNoteId),h(3),u(i.title),h(2),u(S(6,4,i.createdAt==null?null:i.createdAt.toDate(),"yyyy.MM.dd"))}}function l1(a,s){a&1&&(l(0,"ion-item",5)(1,"ion-label",7),g(2," \uC791\uC131\uB41C \uBA54\uBAA8\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4. '\uC0C8 \uB178\uD2B8 \uC791\uC131' \uBC84\uD2BC\uC744 \uB20C\uB7EC \uC2DC\uC791\uD558\uC138\uC694. "),e()())}var f1=(()=>{let s=class s{constructor(o,t,n,c,w){this.noteService$=o,this.authService$=t,this.router=n,this.loadingCtrl=c,this.alertController=w,this.activeNoteId=null,this.notes$=o.getNotes(),k({trash:o1,trashOutline:a1,logOutOutline:K,logInOutline:J,addCircleOutline:Y,createOutline:Z})}ngOnInit(){}selectNote(o){console.log(o),o&&this.router.navigate(["/memo-edit",o])}createNewNote(o){o.currentTarget.blur(),this.router.navigate(["/memo-edit","new"],{replaceUrl:!1})}deleteNote(o,t){return v(this,null,function*(){if(t.stopPropagation(),!o)return;if(window.confirm("\uC815\uB9D0\uB85C \uC774 \uBA54\uBAA8\uB97C \uC0AD\uC81C\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C? \uC774 \uC791\uC5C5\uC740 \uB418\uB3CC\uB9B4 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4."))try{yield this.noteService$.deleteNote(o),this.activeNoteId,console.log(`Memo ${o} successfully deleted.`)}catch(c){console.error("\uBA54\uBAA8 \uC0AD\uC81C \uC911 \uC624\uB958 \uBC1C\uC0DD:",c),window.alert("\uBA54\uBAA8 \uC0AD\uC81C\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.")}})}deleteNote2(o,t){return v(this,null,function*(){if(t.stopPropagation(),!o)return;yield(yield this.alertController.create({header:"\uBA54\uBAA8 \uC0AD\uC81C",message:"\uC815\uB9D0\uB85C \uC774 \uBA54\uBAA8\uB97C \uC0AD\uC81C\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C? \uC774 \uC791\uC5C5\uC740 \uB418\uB3CC\uB9B4 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.",buttons:[{text:"\uCDE8\uC18C",role:"cancel"},{text:"\uC0AD\uC81C",cssClass:"alert-button-destructive",handler:()=>v(this,null,function*(){try{yield this.noteService$.deleteNote(o),this.activeNoteId,console.log(`Memo ${o} successfully deleted.`)}catch(c){console.error("\uBA54\uBAA8 \uC0AD\uC81C \uC911 \uC624\uB958 \uBC1C\uC0DD:",c),yield(yield this.alertController.create({header:"\uC624\uB958",message:"\uBA54\uBAA8 \uC0AD\uC81C\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.",buttons:["\uD655\uC778"]})).present()}})}]})).present()})}login(){console.log("login"),this.router.navigateByUrl("/login",{replaceUrl:!0})}logout(){return v(this,null,function*(){let o=yield this.loadingCtrl.create({message:"\uB85C\uADF8\uC544\uC6C3 \uC911..."});yield o.present(),this.authService$.logout().then(()=>{this.router.navigateByUrl("/login",{replaceUrl:!0})}).catch(t=>{console.error("\uB85C\uADF8\uC544\uC6C3 \uC911 \uC624\uB958 \uBC1C\uC0DD:",t)}).finally(()=>{o.dismiss()})})}};s.\u0275fac=function(t){return new(t||s)(r(Q),r(W),r(q),r(X),r(G))},s.\u0275cmp=f({type:s,selectors:[["app-note-view"]],decls:13,vars:4,consts:[[3,"translucent"],["slot","end"],[3,"click"],["name","create-outline","slot","icon-only"],[3,"selected"],["lines","none"],["name","trash-outline","slot","end","color","danger",3,"click"],[1,"ion-text-center","ion-padding"]],template:function(t,n){t&1&&(l(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-title"),g(3,"My Notes"),e(),l(4,"ion-buttons",1)(5,"ion-button",2),d("click",function(w){return n.createNewNote(w)}),V(6,"ion-icon",3),e()()()(),l(7,"ion-content")(8,"ion-list"),B(9,n1,8,7,"ion-item",4,i1,!1,l1,3,0,"ion-item",5),M(12,"async"),e()()),t&2&&(H("translucent",!0),h(9),L(y(12,2,n.notes$)))},dependencies:[U,_,$,T,I,N,P,b,D,F,E,R,j,O],styles:['@charset "UTF-8";@media (min-width: 768px){.note-list-container[_ngcontent-%COMP%]{width:300px}.detail-container[_ngcontent-%COMP%]{flex-grow:1}}@media (max-width: 767px){.note-list-container[_ngcontent-%COMP%]{width:100%}}']});let a=s;return a})();export{f1 as NoteViewPage};
