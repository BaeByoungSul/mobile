import{Ab as oe,Da as H,E as L,Ea as Q,F as G,Fa as J,Fb as ae,Ga as K,Gb as se,Ha as S,Hb as ce,Ia as Y,Ib as me,Ja as Z,Jb as le,Ka as c,Kc as de,La as b,Ma as X,N as j,Nc as pe,Oc as ue,Pc as ge,Qc as fe,Rc as R,Sa as C,Sc as he,T as s,Ta as w,Tc as _e,Uc as ve,Va as ee,Vc as O,Xc as ye,Yc as xe,Za as M,Zc as Se,_ as F,ba as u,ca as g,cb as re,cd as be,db as te,dd as Ce,ed as we,fb as ie,fd as Me,ga as V,gb as E,gd as Ee,hd as ke,ia as f,id as Re,j as D,ja as h,ka as _,m as $,nb as k,oa as v,ob as ne,p as W,pa as a,qa as o,qb as N,ra as m,sa as U,ta as z,u as d,ua as x,v as B,x as p,xa as q,za as y}from"./chunk-XIZZQZNX.js";var Fe=["determinateSpinner"];function Ne(r,n){if(r&1&&(L(),a(0,"svg",11),m(1,"circle",12),o()),r&2){let e=y();f("viewBox",e._viewBox()),s(),S("stroke-dasharray",e._strokeCircumference(),"px")("stroke-dashoffset",e._strokeCircumference()/2,"px")("stroke-width",e._circleStrokeWidth(),"%"),f("r",e._circleRadius())}}var Oe=new B("mat-progress-spinner-default-options",{providedIn:"root",factory:De});function De(){return{diameter:Te}}var Te=100,$e=10,Ie=(()=>{class r{_elementRef=p(j);_noopAnimations;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;_defaultColor="primary";_determinateCircle;constructor(){let e=p(Oe),t=oe(),i=this._elementRef.nativeElement;this._noopAnimations=t==="di-disabled"&&!!e&&!e._forceAnimations,this.mode=i.nodeName.toLowerCase()==="mat-spinner"?"indeterminate":"determinate",!this._noopAnimations&&t==="reduced-motion"&&i.classList.add("mat-progress-spinner-reduced-motion"),e&&(e.color&&(this.color=this._defaultColor=e.color),e.diameter&&(this.diameter=e.diameter),e.strokeWidth&&(this.strokeWidth=e.strokeWidth))}mode;get value(){return this.mode==="determinate"?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,e||0))}_value=0;get diameter(){return this._diameter}set diameter(e){this._diameter=e||0}_diameter=Te;get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(e){this._strokeWidth=e||0}_strokeWidth;_circleRadius(){return(this.diameter-$e)/2}_viewBox(){let e=this._circleRadius()*2+this.strokeWidth;return`0 0 ${e} ${e}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return this.mode==="determinate"?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static \u0275fac=function(t){return new(t||r)};static \u0275cmp=u({type:r,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(t,i){if(t&1&&H(Fe,5),t&2){let l;Q(l=J())&&(i._determinateCircle=l.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(t,i){t&2&&(f("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow",i.mode==="determinate"?i.value:null)("mode",i.mode),Z("mat-"+i.color),S("width",i.diameter,"px")("height",i.diameter,"px")("--mat-progress-spinner-size",i.diameter+"px")("--mat-progress-spinner-active-indicator-width",i.diameter+"px"),Y("_mat-animation-noopable",i._noopAnimations)("mdc-circular-progress--indeterminate",i.mode==="indeterminate"))},inputs:{color:"color",mode:"mode",value:[2,"value","value",M],diameter:[2,"diameter","diameter",M],strokeWidth:[2,"strokeWidth","strokeWidth",M]},exportAs:["matProgressSpinner"],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(t,i){if(t&1&&(V(0,Ne,2,8,"ng-template",null,0,ee),a(2,"div",2,1),L(),a(4,"svg",3),m(5,"circle",4),o()(),G(),a(6,"div",5)(7,"div",6)(8,"div",7),x(9,8),o(),a(10,"div",9),x(11,8),o(),a(12,"div",10),x(13,8),o()()()),t&2){let l=K(1);s(4),f("viewBox",i._viewBox()),s(),S("stroke-dasharray",i._strokeCircumference(),"px")("stroke-dashoffset",i._strokeDashOffset(),"px")("stroke-width",i._circleStrokeWidth(),"%"),f("r",i._circleRadius()),s(4),v("ngTemplateOutlet",l),s(2),v("ngTemplateOutlet",l),s(2),v("ngTemplateOutlet",l)}},dependencies:[re],styles:[`.mat-mdc-progress-spinner{--mat-progress-spinner-animation-multiplier: 1;display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mat-progress-spinner-active-indicator-width, 4px)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}}.mat-progress-spinner-reduced-motion{--mat-progress-spinner-animation-multiplier: 1.25}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate calc(1568.2352941176ms*var(--mat-progress-spinner-animation-multiplier)) linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mat-progress-spinner-active-indicator-color, var(--mat-sys-primary))}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin calc(1333ms*var(--mat-progress-spinner-animation-multiplier)) cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin calc(1333ms*var(--mat-progress-spinner-animation-multiplier)) cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate calc(5332ms*var(--mat-progress-spinner-animation-multiplier)) cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}
`],encapsulation:2,changeDetection:0})}return r})();var Ae=(()=>{class r{static \u0275fac=function(t){return new(t||r)};static \u0275mod=g({type:r});static \u0275inj=d({imports:[ae]})}return r})();function Ge(r,n){if(r&1&&(a(0,"mat-error"),c(1),o()),r&2){let e=y();s(),b(e.getErrorMsg("email"))}}function je(r,n){if(r&1&&(a(0,"mat-error"),c(1),o()),r&2){let e=y();s(),b(e.getErrorMsg("password"))}}function Ve(r,n){r&1&&(a(0,"mat-icon"),m(1,"mat-spinner",10),o())}function Ue(r,n){if(r&1&&(m(0,"p"),a(1,"div",11),c(2),o()),r&2){let e=y();s(2),X(" ",e.serverError," ")}}function ze(r,n){r&1&&(m(0,"div"),a(1,"pre"),c(2),C(3,"json"),o()),r&2&&(s(2),b(w(3,1,n)))}var I=class r{constructor(n,e){this.authService$=n;this.router$=e;this.currentUser$=this.authService$.user$}loading$=new D(!1);serverError=null;currentUser$;myform=new ve({email:new O("",[R.required,R.email]),password:new O("",[R.required])});onSignIn(){if(this.myform.invalid){this.serverError="form is invalid!";return}this.loading$.next(!0);let n=this.myform.value;this.authService$.signIn(n.email,n.password).then(()=>{console.log("\uB85C\uADF8\uC778 \uC131\uACF5"),this.router$.navigate(["/note-mgt"],{skipLocationChange:!0}),this.loading$.next(!1)}).catch(e=>{this.serverError=e,this.loading$.next(!1)})}onSignInWithGoogle(){this.authService$.signInWithGoogle().then(()=>console.log("Google \uB85C\uADF8\uC778 \uC131\uACF5")).catch(n=>console.error("Google \uB85C\uADF8\uC778 \uC2E4\uD328:",n))}onLogout(){this.authService$.logout().then(()=>console.log("\uB85C\uADF8\uC544\uC6C3 \uC131\uACF5")).catch(n=>console.error("\uB85C\uADF8\uC544\uC6C3 \uC2E4\uD328:",n))}getErrorMsg(n){let e=this.myform.get(n);var t,i;return e?.hasError("maxlength")&&(t=e.errors?.maxlength.requiredLength),e?.hasError("minlength")&&(t=e.errors?.minlength.requiredLength),e?.hasError("required")?"This field is required ":e?.hasError("pattern")?"This field needs to be at least nine characters, one uppercase letter and at least 1 symbol":e?.hasError("email")?"Not a valid email":e?.hasError("minlength")?`This field must be at least ${i} characters long `:e?.hasError("maxlength")?`This field can be max ${t} characters long.`:""}static \u0275fac=function(e){return new(e||r)(F(ue),F(k))};static \u0275cmp=u({type:r,selectors:[["app-login"]],decls:26,vars:10,consts:[[1,"top-container"],[1,"input-container"],[3,"ngSubmit","formGroup"],["appearance","outline","floatLabel","always"],["matInput","","type","email","placeholder","Enter your email","formControlName","email"],["matInput","","type","password","placeholder","Enter your password","formControlName","password"],[1,"button-container"],["mat-raised-button","","color","primary"],[2,"flex-grow","1"],["routerLink","../register","skipLocationChange","true"],["color","accent","diameter","20"],[1,"alert","alert-danger"]],template:function(e,t){if(e&1&&(a(0,"div",0)(1,"fieldset",1)(2,"legend"),c(3,"\uB85C\uADF8\uC778 \uC815\uBCF4"),o(),a(4,"form",2),q("ngSubmit",function(){return t.onSignIn()}),a(5,"mat-form-field",3)(6,"mat-label"),c(7,"Email"),o(),m(8,"input",4),h(9,Ge,2,1,"mat-error"),o(),a(10,"mat-form-field",3)(11,"mat-label"),c(12,"Password"),o(),m(13,"input",5),h(14,je,2,1,"mat-error"),o(),a(15,"div",6)(16,"button",7),c(17,"Login "),h(18,Ve,2,0,"mat-icon"),C(19,"async"),o(),m(20,"span",8),a(21,"a",9),c(22,"Register"),o()(),h(23,Ue,3,1),o()()(),h(24,ze,4,3),C(25,"async")),e&2){let i;s(4),v("formGroup",t.myform),s(5),_(t.myform.controls.email.invalid?9:-1),s(5),_(t.myform.controls.password.invalid?14:-1),s(4),_(w(19,6,t.loading$)?18:-1),s(5),_(t.serverError?23:-1),s(),_((i=w(25,8,t.currentUser$))?24:-1,i)}},dependencies:[E,Re,ke,Ee,we,Me,ce,se,le,me,Ae,Ie,be,ye,fe,he,_e,Ce,xe,Se,ne,te,ie],styles:[".top-container[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:row;justify-content:center;align-items:start}.input-container[_ngcontent-%COMP%]{margin-top:100px;padding:20px;width:500px;border:1px solid lightgray;border-radius:5px;display:flex;flex-direction:column;gap:10px}form[_ngcontent-%COMP%]{display:flex;flex-direction:column}form[_ngcontent-%COMP%] > .button-container[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:end}"]})};var A=class r{static \u0275fac=function(e){return new(e||r)};static \u0275cmp=u({type:r,selectors:[["app-register"]],decls:2,vars:0,template:function(e,t){e&1&&(U(0,"p"),c(1,"register works!"),z())},encapsulation:2})};var Pe=(r,n)=>{let e=p(k),t=p(de);return pe(t).pipe(W(1),$(i=>i?e.createUrlTree(["/note-mgt"]):!0))};var qe=[{path:"",component:ge,children:[{path:"login",component:I,canActivate:[Pe]},{path:"register",component:A}]}],P=class r{static \u0275fac=function(e){return new(e||r)};static \u0275mod=g({type:r});static \u0275inj=d({imports:[N.forChild(qe),N]})};var Le=class r{static \u0275fac=function(e){return new(e||r)};static \u0275mod=g({type:r});static \u0275inj=d({imports:[E,P]})};export{Le as AuthModule};
