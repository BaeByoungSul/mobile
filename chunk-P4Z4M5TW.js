import{a as X,b as Q}from"./chunk-GQCPOBOX.js";import{a as Y}from"./chunk-GSS45ZHY.js";import{a as G}from"./chunk-NOTKCVSM.js";import"./chunk-376IKJ6V.js";import"./chunk-QUJFQN2Y.js";import"./chunk-ZY6MMR2N.js";import"./chunk-D7TAPKFE.js";import"./chunk-E3YIA7WN.js";import"./chunk-AIS5GWYL.js";import"./chunk-LALQ4PRD.js";import"./chunk-UW3ZE4H6.js";import"./chunk-BYMGTA2M.js";import"./chunk-EXPIUGSN.js";import"./chunk-RRKDUDD7.js";import"./chunk-XWDJZ25K.js";import"./chunk-MTHZ7MWU.js";import"./chunk-WI5MSH4N.js";import"./chunk-M6NONDRE.js";import"./chunk-CKP3SGE2.js";import"./chunk-SGZNH6GL.js";import"./chunk-DLDAO7VZ.js";import{C as d,E as r,G as B,La as q,N as L,O as H,Q as l,R as c,S as g,W as V,X as v,Y as p,ab as D,da as C,db as F,ea as w,eb as U,fa as u,gb as _,ia as M,ja as A,jb as N,ka as y,kb as P,lb as I,mb as T,nb as R,pa as S,qa as j,qb as E,ra as O,tb as W,v as x,va as b,vb as $,w as m}from"./chunk-KOMPBYRF.js";import"./chunk-EK2F6UB4.js";import"./chunk-HQGYLS3P.js";import"./chunk-3LOU2PH5.js";import"./chunk-VDIWTM42.js";import"./chunk-UQSJFG5S.js";import"./chunk-O6FA337S.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-PIQNUW7X.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{f as h}from"./chunk-D7YYRZS5.js";var Z="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M448 256c0-106-86-192-192-192S64 150 64 256s86 192 192 192 192-86 192-192z' stroke-miterlimit='10' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M256 176v160M336 256H176' class='ionicon-fill-none ionicon-stroke-width'/></svg>";var J="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M192 176v-40a40 40 0 0140-40h160a40 40 0 0140 40v240a40 40 0 01-40 40H240c-22.09 0-48-17.91-48-40v-40' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-linejoin='round' d='M288 336l80-80-80-80M80 256h272' class='ionicon-fill-none ionicon-stroke-width'/></svg>";var K="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M304 336v40a40 40 0 01-40 40H104a40 40 0 01-40-40V136a40 40 0 0140-40h152c22.09 0 48 17.91 48 40v40M368 336l80-80-80-80M176 256h256' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>";var o1="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M296 64h-80a7.91 7.91 0 00-8 8v24h96V72a7.91 7.91 0 00-8-8z' class='ionicon-fill-none'/><path d='M432 96h-96V72a40 40 0 00-40-40h-80a40 40 0 00-40 40v24H80a16 16 0 000 32h17l19 304.92c1.42 26.85 22 47.08 48 47.08h184c26.13 0 46.3-19.78 48-47l19-305h17a16 16 0 000-32zM192.57 416H192a16 16 0 01-16-15.43l-8-224a16 16 0 1132-1.14l8 224A16 16 0 01192.57 416zM272 400a16 16 0 01-32 0V176a16 16 0 0132 0zm32-304h-96V72a7.91 7.91 0 018-8h80a7.91 7.91 0 018 8zm32 304.57A16 16 0 01320 416h-.58A16 16 0 01304 399.43l8-224a16 16 0 1132 1.14z'/></svg>";var a1="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' class='ionicon' viewBox='0 0 512 512'><path d='M112 112l20 320c.95 18.49 14.4 32 32 32h184c17.67 0 30.87-13.51 32-32l20-320' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/><path stroke-linecap='round' stroke-miterlimit='10' d='M80 112h352' class='ionicon-stroke-width'/><path d='M192 112V72h0a23.93 23.93 0 0124-24h80a23.93 23.93 0 0124 24h0v40M256 176v224M184 176l8 224M328 176l-8 224' stroke-linecap='round' stroke-linejoin='round' class='ionicon-fill-none ionicon-stroke-width'/></svg>";var z,t1=function(){if(typeof window>"u")return new Map;if(!z){var a=window;a.Ionicons=a.Ionicons||{},z=a.Ionicons.map=a.Ionicons.map||new Map}return z},k=function(a){Object.keys(a).forEach(function(s){s1(s,a[s]);var i=s.replace(/([a-z0-9]|(?=[A-Z]))([A-Z0-9])/g,"$1-$2").toLowerCase();s!==i&&s1(i,a[s])})},s1=function(a,s){var i=t1(),o=i.get(a);o===void 0?i.set(a,s):o!==s&&console.warn('[Ionicons Warning]: Multiple icons were mapped to name "'.concat(a,'". Ensure that multiple icons are not mapped to the same icon name.'))};var i1=(a,s)=>s.id;function n1(a,s){if(a&1){let i=V();l(0,"ion-item",3),v("click",function(){let t=x(i).$implicit,n=p();return m(n.selectNote(t.id))}),l(1,"ion-label")(2,"h2"),w(3),c(),l(4,"p"),w(5),M(6,"date"),c()(),l(7,"ion-icon",11),v("click",function(t){let n=x(i).$implicit,e=p();return m(e.deleteNote(n.id,t))}),c()()}if(a&2){let i=s.$implicit,o=p();C("selected",i.id===o.activeNoteId),d(3),u(i.title),d(2),u(y(6,4,i.createdAt.toDate(),"yyyy.MM.dd"))}}function l1(a,s){a&1&&(l(0,"ion-item",9)(1,"ion-label",12),w(2," \uC791\uC131\uB41C \uBA54\uBAA8\uAC00 \uC5C6\uC2B5\uB2C8\uB2E4. '\uC0C8 \uB178\uD2B8 \uC791\uC131' \uBC84\uD2BC\uC744 \uB20C\uB7EC \uC2DC\uC791\uD558\uC138\uC694. "),c()())}var f1=(()=>{let s=class s{constructor(o,t,n,e,f){this.noteService$=o,this.authService$=t,this.router=n,this.loadingCtrl=e,this.alertController=f,this.activeNoteId=null,this.notes$=o.getNotes(),k({trash:o1,trashOutline:a1,logOutOutline:K,logInOutline:J,addCircleOutline:Z})}ngOnInit(){}selectNote(o){console.log(o),o&&this.router.navigate(["/memo-edit",o])}createNewNote(){this.router.navigate(["/memo-edit","new"])}deleteNote(o,t){return h(this,null,function*(){if(t.stopPropagation(),!o)return;yield(yield this.alertController.create({header:"\uBA54\uBAA8 \uC0AD\uC81C",message:"\uC815\uB9D0\uB85C \uC774 \uBA54\uBAA8\uB97C \uC0AD\uC81C\uD558\uC2DC\uACA0\uC2B5\uB2C8\uAE4C? \uC774 \uC791\uC5C5\uC740 \uB418\uB3CC\uB9B4 \uC218 \uC5C6\uC2B5\uB2C8\uB2E4.",buttons:[{text:"\uCDE8\uC18C",role:"cancel"},{text:"\uC0AD\uC81C",cssClass:"alert-button-destructive",handler:()=>h(this,null,function*(){try{yield this.noteService$.deleteNote(o),this.activeNoteId===o&&this.createNewNote(),console.log(`Memo ${o} successfully deleted.`)}catch(e){console.error("\uBA54\uBAA8 \uC0AD\uC81C \uC911 \uC624\uB958 \uBC1C\uC0DD:",e),yield(yield this.alertController.create({header:"\uC624\uB958",message:"\uBA54\uBAA8 \uC0AD\uC81C\uC5D0 \uC2E4\uD328\uD588\uC2B5\uB2C8\uB2E4.",buttons:["\uD655\uC778"]})).present()}})}]})).present()})}login(){console.log("login"),this.router.navigateByUrl("/login",{replaceUrl:!0})}logout(){return h(this,null,function*(){let o=yield this.loadingCtrl.create({message:"\uB85C\uADF8\uC544\uC6C3 \uC911..."});yield o.present(),this.authService$.logout().then(()=>{this.router.navigateByUrl("/login",{replaceUrl:!0})}).catch(t=>{console.error("\uB85C\uADF8\uC544\uC6C3 \uC911 \uC624\uB958 \uBC1C\uC0DD:",t)}).finally(()=>{o.dismiss()})})}};s.\u0275fac=function(t){return new(t||s)(r(Y),r(G),r(b),r(Q),r(X))},s.\u0275cmp=B({type:s,selectors:[["app-note-view"]],decls:20,vars:3,consts:[["content-id","memo-content"],["content-id","memo-content","side","start","type","overlay"],["slot","start"],[3,"click"],["slot","start","name","add-circle-outline"],["slot","end"],["slot","icon-only","name","log-in-outline"],["slot","icon-only","name","log-out-outline"],[3,"selected"],["lines","none"],["id","memo-content"],["name","trash-outline","slot","end","color","danger",3,"click"],[1,"ion-text-center","ion-padding"]],template:function(t,n){t&1&&(l(0,"ion-split-pane",0)(1,"ion-menu",1)(2,"ion-header")(3,"ion-toolbar")(4,"ion-buttons",2)(5,"ion-button",3),v("click",function(){return n.createNewNote()}),g(6,"ion-icon",4),w(7," \uC0C8 \uB178\uD2B8 \uC791\uC131 "),c()(),l(8,"ion-buttons",5)(9,"ion-button",3),v("click",function(){return n.login()}),g(10,"ion-icon",6),c(),l(11,"ion-button",3),v("click",function(){return n.logout()}),g(12,"ion-icon",7),c()()()(),l(13,"ion-content")(14,"ion-list"),L(15,n1,8,7,"ion-item",8,i1,!1,l1,3,0,"ion-item",9),M(18,"async"),c()()(),g(19,"ion-router-outlet",10),c()),t&2&&(d(15),H(A(18,1,n.notes$)))},dependencies:[U,D,I,$,P,T,E,_,N,O,q,R,F,W,S,j],encapsulation:2});let a=s;return a})();export{f1 as NoteViewPage};
