import{a as ie}from"./chunk-SALUYMRV.js";import"./chunk-5KAPHWDA.js";import{$ as d,$a as O,Aa as V,B as w,Ba as q,Ea as G,Fa as R,G as B,Ga as j,H as _,Ha as P,K as m,L as o,M as n,N as s,R as A,S as c,T as S,Ya as z,_a as H,aa as F,ab as U,ba as M,bb as J,c as C,cb as K,db as L,eb as Q,f as v,fb as W,g as I,h as N,ib as X,kb as Y,ma as E,nb as Z,oa as k,ob as $,q as b,qa as D,r as g,rb as ee,sb as te,wa as f,x as a,xa as y,ya as x,z as u,za as T}from"./chunk-3W4BXDLC.js";import"./chunk-W7HPUEKP.js";import"./chunk-254F5RPF.js";import"./chunk-PZU7R7Y5.js";import"./chunk-YN4SZ4GL.js";import"./chunk-UQSJFG5S.js";import"./chunk-O6FA337S.js";import"./chunk-4WFVMWDK.js";import"./chunk-M2X7KQLB.js";import"./chunk-DVVH2KKN.js";import"./chunk-NV3QH4JK.js";import"./chunk-REYR55MP.js";import"./chunk-OZYWYLNK.js";import"./chunk-42C7ZIID.js";import{f as h}from"./chunk-D7YYRZS5.js";function ne(l,r){if(l&1){let oe=A();o(0,"ion-col",13)(1,"ion-button",14),c("click",function(){b(oe);let e=S();return g(e.cancelAndNewNote())}),d(2," \uCDE8\uC18C \uBC0F \uC0C8 \uB178\uD2B8 \uC791\uC131 "),n()()}}var pe=(()=>{let r=class r{constructor(t,e,i,p){this.fb=t,this.route=e,this.router=i,this.memoService=p,this.noteId=null,this.isNewNote=!1}ngOnInit(){this.initForm(),this.loadNoteData()}initForm(){this.memoForm=this.fb.group({title:["",f.required],content:["",f.required]})}loadNoteData(){this.route.paramMap.pipe(N(t=>{let e=t.get("id");return this.noteId=e,e==="new"?(this.isNewNote=!0,C({title:"",content:""})):e?(this.isNewNote=!1,this.memoService.getNote(e).pipe(v(i=>!!i),I(1))):C(null)})).subscribe(t=>{t&&this.memoForm.patchValue({title:t.title,content:t.content})})}saveMemo(){return h(this,null,function*(){if(this.memoForm.invalid){alert("\uC81C\uBAA9\uACFC \uB0B4\uC6A9\uC744 \uBAA8\uB450 \uC785\uB825\uD574\uC8FC\uC138\uC694.");return}let t=this.memoForm.value;if(this.isNewNote){let e=yield this.memoService.addNote(t);alert("\uC0C8 \uBA54\uBAA8\uAC00 \uC800\uC7A5\uB418\uC5C8\uC2B5\uB2C8\uB2E4."),this.router.navigate(["/note-view"],{replaceUrl:!0})}else this.noteId&&(yield this.memoService.updateNote(this.noteId,t),alert("\uBA54\uBAA8\uAC00 \uC218\uC815\uB418\uC5C8\uC2B5\uB2C8\uB2E4."))})}cancelAndNewNote(){this.router.navigate(["/memo-edit","new"]),this.memoForm.reset(),this.isNewNote=!0,this.noteId=null}};r.\u0275fac=function(e){return new(e||r)(u(R),u(k),u(D),u(ie))},r.\u0275cmp=w({type:r,selectors:[["app-memo-editor"]],decls:22,vars:7,consts:[[3,"translucent"],["slot","start"],["defaultHref","/note-view"],[3,"fullscreen"],[3,"ngSubmit","formGroup"],[1,"ion-margin-bottom"],["label","\uC81C\uBAA9","label-placement","stacked","formControlName","title","placeholder","\uBA54\uBAA8\uC758 \uC81C\uBAA9\uC744 \uC785\uB825\uD558\uC138\uC694","required",""],[1,"editor-area"],["label","\uB0B4\uC6A9","label-placement","stacked","formControlName","content","rows","20","placeholder","\uC5EC\uAE30\uC5D0 \uBA54\uBAA8 \uB0B4\uC6A9\uC744 \uC785\uB825\uD558\uC138\uC694","required",""],[1,"ion-padding"],[1,"ion-align-items-center"],["size","5"],["expand","block","color","primary",3,"click","disabled"],["size","7"],["expand","block","fill","outline","color","medium",3,"click"]],template:function(e,i){e&1&&(o(0,"ion-header",0)(1,"ion-toolbar")(2,"ion-buttons",1),s(3,"ion-menu-button"),o(4,"ion-buttons",1),s(5,"ion-back-button",2),n()(),o(6,"ion-title"),d(7),n()()(),o(8,"ion-content",3)(9,"form",4),c("ngSubmit",function(){return i.saveMemo()}),o(10,"ion-item",5),s(11,"ion-input",6),n(),o(12,"ion-item",7),s(13,"ion-textarea",8),n()()(),o(14,"ion-footer",9)(15,"ion-toolbar")(16,"ion-grid")(17,"ion-row",10)(18,"ion-col",11)(19,"ion-button",12),c("click",function(){return i.saveMemo()}),d(20),n()(),B(21,ne,3,0,"ion-col",13),n()()()()),e&2&&(m("translucent",!0),a(7),F(i.noteId),a(),m("fullscreen",!0),a(),m("formGroup",i.memoForm),a(10),m("disabled",i.memoForm.invalid),a(),M(" ",i.isNewNote?"\uC0C8 \uBA54\uBAA8 \uC800\uC7A5":"\uC218\uC815 \uC800\uC7A5"," "),a(),_(i.noteId?21:-1))},dependencies:[z,O,ee,te,Y,U,H,K,L,W,J,$,E,j,T,y,x,G,P,V,q,Z,Q,X],encapsulation:2});let l=r;return l})();export{pe as MemoEditorPage};
